<!DOCTYPE html>
<html>

<!-- This page serves as the primary HTML document from which all of the other HTML-based pages extend from for the frontend of the app, by making use of the Jinja2 Python template engine -->

<!-- Lines 10 to 19 utilise a Content Delivery Network to incorporate Bootstrap styling and JavaScript elements for the app -->

<head>
    <title>{% block title %}IT Assets Register{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js"
        integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
</head>

<!-- Lines 29 to 54 utilise the Jinja2 templating engine to check if the user is logged in, and if they are they will see navigation links to the Assets, Customers, Manufacturers and Logout pages. But if they aren't, they will only see links to Register and Login -->

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="{{ url_for('main.index') }}">
            <img src="{{ url_for('static', filename='nofusslogo_sml.png') }}" alt="Logo" height="30">
        </a>
        {% if current_user.is_authenticated %}
        <a class="navbar-brand" href="{{ url_for('main.index') }}">Logged in as {{ current_user.username }}</a>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('main.assets') }}">Assets</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('main.customers') }}">Customers</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('main.manufacturers') }}">Manufacturers</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('main.logout') }}">Logout</a>
            </li>
        </ul>
        {% else %}
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('main.register') }}">Register</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('main.login') }}">Login</a>
            </li>
        </ul>
        {% endif %}
    </nav>

    <div class="container mt-4">
        {% block content %}
        {% endblock %}
    </div>

</body>

</html>